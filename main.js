!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=12)}([function(e,t){e.exports=THREE},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var n=function(e,t){var n=e[1]||"",r=e[3];if(!r)return n;if(t&&"function"==typeof btoa){var o=(s=r,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */"),i=r.sources.map(function(e){return"/*# sourceURL="+r.sourceRoot+e+" */"});return[n].concat(i).concat([o]).join("\n")}var s;return[n].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+n+"}":n}).join("")},t.i=function(e,n){"string"==typeof e&&(e=[[null,e,""]]);for(var r={},o=0;o<this.length;o++){var i=this[o][0];null!=i&&(r[i]=!0)}for(o=0;o<e.length;o++){var s=e[o];null!=s[0]&&r[s[0]]||(n&&!s[2]?s[2]=n:n&&(s[2]="("+s[2]+") and ("+n+")"),t.push(s))}},t}},function(e,t,n){var r,o,i={},s=(r=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=r.apply(this,arguments)),o}),a=function(e){var t={};return function(e){if("function"==typeof e)return e();if(void 0===t[e]){var n=function(e){return document.querySelector(e)}.call(this,e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}}(),c=null,l=0,u=[],h=n(5);function d(e,t){for(var n=0;n<e.length;n++){var r=e[n],o=i[r.id];if(o){o.refs++;for(var s=0;s<o.parts.length;s++)o.parts[s](r.parts[s]);for(;s<r.parts.length;s++)o.parts.push(g(r.parts[s],t))}else{var a=[];for(s=0;s<r.parts.length;s++)a.push(g(r.parts[s],t));i[r.id]={id:r.id,refs:1,parts:a}}}}function p(e,t){for(var n=[],r={},o=0;o<e.length;o++){var i=e[o],s=t.base?i[0]+t.base:i[0],a={css:i[1],media:i[2],sourceMap:i[3]};r[s]?r[s].parts.push(a):n.push(r[s]={id:s,parts:[a]})}return n}function m(e,t){var n=a(e.insertInto);if(!n)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var r=u[u.length-1];if("top"===e.insertAt)r?r.nextSibling?n.insertBefore(t,r.nextSibling):n.appendChild(t):n.insertBefore(t,n.firstChild),u.push(t);else if("bottom"===e.insertAt)n.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=a(e.insertInto+" "+e.insertAt.before);n.insertBefore(t,o)}}function f(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=u.indexOf(e);t>=0&&u.splice(t,1)}function A(e){var t=document.createElement("style");return e.attrs.type="text/css",v(t,e.attrs),m(e,t),t}function v(e,t){Object.keys(t).forEach(function(n){e.setAttribute(n,t[n])})}function g(e,t){var n,r,o,i;if(t.transform&&e.css){if(!(i=t.transform(e.css)))return function(){};e.css=i}if(t.singleton){var s=l++;n=c||(c=A(t)),r=E.bind(null,n,s,!1),o=E.bind(null,n,s,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(n=function(e){var t=document.createElement("link");return e.attrs.type="text/css",e.attrs.rel="stylesheet",v(t,e.attrs),m(e,t),t}(t),r=function(e,t,n){var r=n.css,o=n.sourceMap,i=void 0===t.convertToAbsoluteUrls&&o;(t.convertToAbsoluteUrls||i)&&(r=h(r));o&&(r+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var s=new Blob([r],{type:"text/css"}),a=e.href;e.href=URL.createObjectURL(s),a&&URL.revokeObjectURL(a)}.bind(null,n,t),o=function(){f(n),n.href&&URL.revokeObjectURL(n.href)}):(n=A(t),r=function(e,t){var n=t.css,r=t.media;r&&e.setAttribute("media",r);if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}.bind(null,n),o=function(){f(n)});return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=s()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var n=p(e,t);return d(n,t),function(e){for(var r=[],o=0;o<n.length;o++){var s=n[o];(a=i[s.id]).refs--,r.push(a)}e&&d(p(e,t),t);for(o=0;o<r.length;o++){var a;if(0===(a=r[o]).refs){for(var c=0;c<a.parts.length;c++)a.parts[c]();delete i[a.id]}}}};var b,y=(b=[],function(e,t){return b[e]=t,b.filter(Boolean).join("\n")});function E(e,t,n,r){var o=n?"":r.css;if(e.styleSheet)e.styleSheet.cssText=y(t,o);else{var i=document.createTextNode(o),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(i,s[t]):e.appendChild(i)}}},function(e,t,n){var r=n(4);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(2)(r,o);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(1)(!0)).push([e.i,"body {\n  padding: 0;\n  margin: 0; }\n\n#three-quarium {\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  background-color: #2a2f36;\n  overflow: hidden;\n  font-family: Calibri, Arial, sans-serif; }\n","",{version:3,sources:["D:/Projects/three-quarium/src/index.scss"],names:[],mappings:"AAMA;EACE,UAAU;EACV,SAAS,EAAA;;AAOX;EACE,kBAAkB;EAClB,YAAY;EACZ,WAAW;EACX,yBAhBkB;EAiBlB,gBAAgB;EAChB,uCAAuC,EAAA",file:"index.scss",sourcesContent:["$mainColor1: #e0ffb3;\r\n$mainColor2: #61c791;\r\n$mainColor3: #31797d;\r\n$mainColor4: #2a2f36;\r\n$mainColor5: #f23c55;\r\n\r\nbody {\r\n  padding: 0;\r\n  margin: 0;\r\n}\r\n\r\n@mixin bottom-relief($color) {\r\n  border-bottom: 2px solid darken($color, 25);\r\n}\r\n\r\n#three-quarium {\r\n  position: absolute;\r\n  height: 100%;\r\n  width: 100%;\r\n  background-color: $mainColor4;\r\n  overflow: hidden;\r\n  font-family: Calibri, Arial, sans-serif;\r\n}\r\n"]}])},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var n=t.protocol+"//"+t.host,r=n+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var o,i=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(i)?e:(o=0===i.indexOf("//")?i:0===i.indexOf("/")?n+i:r+i.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")})}},function(e,t,n){var r=n(7);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(2)(r,o);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(1)(!0)).push([e.i,"body {\n  padding: 0;\n  margin: 0; }\n\n#three-quarium {\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  background-color: #2a2f36;\n  overflow: hidden;\n  font-family: Calibri, Arial, sans-serif; }\n\n.ui-button {\n  background-color: #61c791;\n  border-bottom: 2px solid #2c7c52; }\n  .ui-button:hover {\n    background-color: #bfe8d3;\n    color: #2c7c52;\n    cursor: pointer; }\n","",{version:3,sources:["D:/Projects/three-quarium/src/index.scss","D:/Projects/three-quarium/src/ui/UIButton.scss"],names:[],mappings:"AAMA;EACE,UAAU;EACV,SAAS,EAAA;;AAOX;EACE,kBAAkB;EAClB,YAAY;EACZ,WAAW;EACX,yBAhBkB;EAiBlB,gBAAgB;EAChB,uCAAuC,EAAA;;ACnBzC;EACE,yBDFkB;EAWlB,gCAA2C,EAAA;ECV7C;IAII,yBAA0C;IAC1C,cAA8B;IAC9B,eAAe,EAAA",file:"UIButton.scss",sourcesContent:["$mainColor1: #e0ffb3;\r\n$mainColor2: #61c791;\r\n$mainColor3: #31797d;\r\n$mainColor4: #2a2f36;\r\n$mainColor5: #f23c55;\r\n\r\nbody {\r\n  padding: 0;\r\n  margin: 0;\r\n}\r\n\r\n@mixin bottom-relief($color) {\r\n  border-bottom: 2px solid darken($color, 25);\r\n}\r\n\r\n#three-quarium {\r\n  position: absolute;\r\n  height: 100%;\r\n  width: 100%;\r\n  background-color: $mainColor4;\r\n  overflow: hidden;\r\n  font-family: Calibri, Arial, sans-serif;\r\n}\r\n",'@import "../index";\r\n\r\n.ui-button {\r\n  background-color: $mainColor2;\r\n  @include bottom-relief($mainColor2);\r\n  &:hover {\r\n    background-color: lighten($mainColor2, 25);\r\n    color: darken($mainColor2, 25);\r\n    cursor: pointer;\r\n  }\r\n}\r\n']}])},function(e,t,n){var r=n(9);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(2)(r,o);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(1)(!0)).push([e.i,"body {\n  padding: 0;\n  margin: 0; }\n\n#three-quarium {\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  background-color: #2a2f36;\n  overflow: hidden;\n  font-family: Calibri, Arial, sans-serif; }\n\n.ui-component {\n  padding: 16px;\n  border-radius: 8px;\n  margin-top: 4px;\n  text-align: center;\n  transition: all ease 175ms;\n  color: #e0ffb3; }\n  .ui-component:first-child {\n    margin-top: 0; }\n","",{version:3,sources:["D:/Projects/three-quarium/src/index.scss","D:/Projects/three-quarium/src/ui/UIComponent.scss"],names:[],mappings:"AAMA;EACE,UAAU;EACV,SAAS,EAAA;;AAOX;EACE,kBAAkB;EAClB,YAAY;EACZ,WAAW;EACX,yBAhBkB;EAiBlB,gBAAgB;EAChB,uCAAuC,EAAA;;ACnBzC;EACE,aAAa;EACb,kBAAkB;EAClB,eAAe;EACf,kBAAkB;EAClB,0BAA0B;EAC1B,cDRkB,EAAA;ECEpB;IAQI,aAAa,EAAA",file:"UIComponent.scss",sourcesContent:["$mainColor1: #e0ffb3;\r\n$mainColor2: #61c791;\r\n$mainColor3: #31797d;\r\n$mainColor4: #2a2f36;\r\n$mainColor5: #f23c55;\r\n\r\nbody {\r\n  padding: 0;\r\n  margin: 0;\r\n}\r\n\r\n@mixin bottom-relief($color) {\r\n  border-bottom: 2px solid darken($color, 25);\r\n}\r\n\r\n#three-quarium {\r\n  position: absolute;\r\n  height: 100%;\r\n  width: 100%;\r\n  background-color: $mainColor4;\r\n  overflow: hidden;\r\n  font-family: Calibri, Arial, sans-serif;\r\n}\r\n",'@import "../index";\r\n\r\n.ui-component {\r\n  padding: 16px;\r\n  border-radius: 8px;\r\n  margin-top: 4px;\r\n  text-align: center;\r\n  transition: all ease 175ms;\r\n  color: $mainColor1;\r\n  &:first-child {\r\n    margin-top: 0;\r\n  }\r\n}\r\n']}])},function(e,t,n){var r=n(11);"string"==typeof r&&(r=[[e.i,r,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};n(2)(r,o);r.locals&&(e.exports=r.locals)},function(e,t,n){(e.exports=n(1)(!0)).push([e.i,"body {\n  padding: 0;\n  margin: 0; }\n\n#three-quarium {\n  position: absolute;\n  height: 100%;\n  width: 100%;\n  background-color: #2a2f36;\n  overflow: hidden;\n  font-family: Calibri, Arial, sans-serif; }\n\n.ui-group {\n  position: absolute;\n  top: 0;\n  left: 0;\n  margin: 16px;\n  background-color: #31797d;\n  border-bottom: 2px solid #0d2021;\n  border-radius: 16px; }\n","",{version:3,sources:["D:/Projects/three-quarium/src/index.scss","D:/Projects/three-quarium/src/ui/UIGroup.scss"],names:[],mappings:"AAMA;EACE,UAAU;EACV,SAAS,EAAA;;AAOX;EACE,kBAAkB;EAClB,YAAY;EACZ,WAAW;EACX,yBAhBkB;EAiBlB,gBAAgB;EAChB,uCAAuC,EAAA;;ACnBzC;EACE,kBAAkB;EAClB,MAAM;EACN,OAAO;EACP,YAAY;EACZ,yBDLkB;EAUlB,gCAA2C;ECH3C,mBAAmB,EAAA",file:"UIGroup.scss",sourcesContent:["$mainColor1: #e0ffb3;\r\n$mainColor2: #61c791;\r\n$mainColor3: #31797d;\r\n$mainColor4: #2a2f36;\r\n$mainColor5: #f23c55;\r\n\r\nbody {\r\n  padding: 0;\r\n  margin: 0;\r\n}\r\n\r\n@mixin bottom-relief($color) {\r\n  border-bottom: 2px solid darken($color, 25);\r\n}\r\n\r\n#three-quarium {\r\n  position: absolute;\r\n  height: 100%;\r\n  width: 100%;\r\n  background-color: $mainColor4;\r\n  overflow: hidden;\r\n  font-family: Calibri, Arial, sans-serif;\r\n}\r\n",'@import "../index";\r\n\r\n.ui-group {\r\n  position: absolute;\r\n  top: 0;\r\n  left: 0;\r\n  margin: 16px;\r\n  background-color: $mainColor3;\r\n  @include bottom-relief($mainColor3);\r\n  border-radius: 16px;\r\n}\r\n']}])},function(e,t,n){"use strict";n.r(t);const r=e=>{if(null!==e){for(const t of e.children)r(t);o(e,"geometry"),i(e)}e.parent.remove(e),delete e.parent},o=(e,t)=>{e[t]&&(e[t].dispose(),delete e[t])},i=e=>{Array.isArray(e.material)?((e,...t)=>{for(const n of e){for(const e of t)o(n,e);n.dispose(),e.length=0}})(e.material,"map"):o(e.material,"map"),o(e,"material")};n(3);var s=n(0);const a=Object.freeze([Object.freeze(new s.Vector3(-1,-1,-1)),Object.freeze(new s.Vector3(-1,1,-1)),Object.freeze(new s.Vector3(1,1,-1)),Object.freeze(new s.Vector3(1,-1,-1)),Object.freeze(new s.Vector3(-1,-1,1)),Object.freeze(new s.Vector3(-1,1,1)),Object.freeze(new s.Vector3(1,1,1)),Object.freeze(new s.Vector3(1,-1,1))]),c=e=>[e[0],e[1],e[1],e[2],e[2],e[3],e[3],e[0],e[4],e[5],e[5],e[6],e[6],e[7],e[7],e[4],e[0],e[4],e[1],e[5],e[2],e[6],e[3],e[7]];class l extends s.LineSegments{constructor(e){super(),this.updateSize(e),this.setMaterial()}updateSize(e){this.geometry=new s.Geometry;const t=a.map(e=>(new s.Vector3).copy(e)).map(t=>t.multiplyScalar(.5*e));this.geometry.vertices=c(t),this.size=e,this.computeLineDistances()}setMaterial(){this.material=new s.LineDashedMaterial({color:6408081,dashSize:1,gapSize:1})}}var u=()=>new s.Euler(Math.random()*Math.PI*.5,Math.random()*Math.PI*.5,Math.random()*Math.PI*.5),h=(e,t,n)=>{const r=(new s.Matrix4).lookAt(t,e.position,e.up),o=(new s.Quaternion).setFromRotationMatrix(r);e.quaternion.slerp(o,n).normalize()},d=(e,t,n)=>(e=0!==n&&e>=n?n:e,e=0!==t&&e<=t?t:e);const p=new s.MeshBasicMaterial({color:15875157}),m=new s.IcosahedronBufferGeometry(1,1),f=new s.MeshBasicMaterial({color:0}),A=new s.IcosahedronBufferGeometry(.4,0);class v extends s.Mesh{constructor(e){super(),this.velocity=.25,this.target=null,this.simulation=e,this.position.copy(this.simulation.getRandomPosition()),this.rotation.copy(u()),this.geometry=m,this.material=p,this.buildEyes(),this.onBeforeRender=this.update}buildEyes(){const e=new s.Mesh(A,f),t=new s.Mesh(A,f);this.add(e),this.add(t),e.position.set(.5,0,.8),t.position.set(-.5,0,.8)}update(){this.think(),this.clampPositionToBounds()}clampPositionToBounds(){this.geometry.boundingBox||this.geometry.computeBoundingBox();const e=.5*this.simulation.size,{min:t,max:n}=this.geometry.boundingBox;this.position.x=d(this.position.x,-e+n.x,e+t.x),this.position.y=d(this.position.y,-e+n.y,e+t.y),this.position.z=d(this.position.z,-e+n.z,e+t.z)}think(){100*Math.random()<=5?this.target=this.simulation.getRandomPosition():this.moveTowardsTarget(),this.rotateZ((Math.sin(this.rotation.x)+Math.cos(this.rotation.y))/10)}moveTowardsTarget(){if(null!==this.target)return this.position.distanceTo(this.target)>.5?(h(this,this.target,.03),void this.translateZ(this.velocity)):void(this.target=null)}}const{sin:g,cos:b}=Math;var y=(e,t,n)=>new s.Vector3(e.x+b(n)*b(t),e.y+g(n),e.z+b(n)*g(t));function E(e,t){const n=Math.abs(e.pageX-t.pageX),r=Math.abs(e.pageY-t.pageY);return Math.sqrt(Math.pow(n,2)+Math.pow(r,2))}function C(e,t){return new s.Vector2(t.pageX-e.pageX,t.pageY-e.pageY)}class w{constructor(e=0,t=0){this.x=e,this.y=t}set(e){this.x=e.x,this.y=e.y}copy(){return new w(this.x,this.y)}}w.magnitude=.008;class x{constructor(e=0,t=0){this.x=e,this.y=t}set(e){this.x=e.x,this.y=e.y}copy(){return new x(this.x,this.y)}}x.magnitude=.004;class B{get(){return this.value}set(e){this.value=e}}var M=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};class L{constructor(e){this.min=1,this.max=4,this.value=0,this.value=e}}L.magnitude=.004,M([(({get:e,set:t}={})=>(n,r)=>{const o=new B;Object.defineProperty(n,r,{get(){return e?e.call(this,o):o.get()},set(e){t?t.call(this,e,o):o.set(e)},configurable:!0,enumerable:!0})})({set(e,t){t.set(d(e,this.min,this.max))}})],L.prototype,"value",void 0);class k extends s.PerspectiveCamera{constructor(){super(),this.distance=100,this.zoomer=new L(this.zoom),this.panner=new w,this.rotator=new x,this.centerPoint=new s.Vector3,this.onMouseWheel=(e=>{e.preventDefault(),e instanceof WheelEvent&&this.updateZoomer(this.zoom,e.deltaY||e.detail)}),this.onMouseDown=(e=>{e.preventDefault();const t=this.rotator.copy(),n=this.panner.copy(),r=r=>{const o=C(e,r);1===r.button&&this.updatePanner(n,o),0===r.button&&this.updateRotator(t,o),this.update()},o=()=>{removeEventListener("mousemove",r),removeEventListener("mouseup",o)};addEventListener("mousemove",r),addEventListener("mouseup",o)}),this.onTouchStart=(e=>{e.preventDefault();const t=this.rotator.copy(),n=this.panner.copy(),r=this.zoomer.value,o=o=>{const i=C(e.touches[0],o.touches[0]);2===o.touches.length&&this.updateZoomer(r,function(e,t){return E(e.touches[0],e.touches[1])-E(t.touches[0],t.touches[1])}(e,o)),2===o.touches.length&&this.updatePanner(n,i),1===o.touches.length&&this.updateRotator(t,i),this.update()},i=()=>{removeEventListener("touchmove",o),removeEventListener("touchend",i)};addEventListener("touchmove",o),addEventListener("touchend",i)}),this.update()}update(){this.position.copy(y(this.centerPoint,this.rotator.x,this.rotator.y).multiplyScalar(this.distance)),this.updateUpVector(),this.lookAt(this.centerPoint),this.translateX(-this.panner.x),this.translateY(this.panner.y)}setEventElement(e){null!=this.eventElement&&(this.eventElement.removeEventListener("mousedown",this.onMouseDown),this.eventElement.removeEventListener("touchstart",this.onTouchStart),this.eventElement.removeEventListener("mousewheel",this.onMouseWheel)),e.addEventListener("mousedown",this.onMouseDown),e.addEventListener("touchstart",this.onTouchStart),e.addEventListener("mousewheel",this.onMouseWheel),this.eventElement=e}updateZoomer(e,t){this.zoomer.value=e-t*L.magnitude,this.zoom=this.zoomer.value,this.updateProjectionMatrix()}updateRotator(e,t){this.rotator.set(e),this.rotator.x+=t.x*x.magnitude,this.rotator.y+=t.y*x.magnitude}updatePanner(e,t){this.panner.set(e),this.panner.x+=t.x*w.magnitude,this.panner.y+=t.y*w.magnitude}updateUpVector(){this.up=this.centerPoint.clone(),this.up.y+=Math.cos(this.rotator.y);const e=Math.abs(this.rotator.y%Math.PI)-Math.PI/2;e<.5&&e>-.5&&(this.up.x-=Math.cos(this.rotator.x)*this.position.y,this.up.z-=Math.sin(this.rotator.x)*this.position.y)}}class z{constructor(){this.size=50,this.scene=new s.Scene,this.element=document.createElement("div"),this.renderer=new s.WebGLRenderer({alpha:!0,antialias:!0}),this.camera=new k,this.render=(()=>{requestAnimationFrame(this.render),this.renderer.render(this.scene,this.camera)}),this.onResize=(()=>{const e=this.element.offsetWidth,t=this.element.offsetHeight;this.renderer.setSize(e,t),this.camera.aspect=e/t,this.camera.updateProjectionMatrix()}),this.element.id="three-quarium",document.body.appendChild(this.element),this.element.appendChild(this.renderer.domElement),this.scene.fog=new s.Fog(0,0,7.5*this.size),this.camera.distance=2.5*this.size,this.camera.setEventElement(this.renderer.domElement),this.camera.update(),this.scene.add(this.camera),this.renderer.setPixelRatio(window.devicePixelRatio),window.addEventListener("resize",this.onResize),this.onResize(),this.render()}updateSize(e){this.size=e}getRandomPosition(){const e=.5*this.size;return new s.Vector3(Math.random()*(e+e)-e,Math.random()*(e+e)-e,Math.random()*(e+e)-e)}}class j extends s.BufferGeometry{constructor(e){super(),this.addPosition(e)}update(e){this.updatePosition(e)}addPosition(e){const t=[];for(let n=0;n<32;n++)t.push(...e.toArray());this.addAttribute("position",new s.Float32BufferAttribute(t,3))}updatePosition(e){const t=this.getAttribute("position"),n=t.array;if(n instanceof Float32Array){const t=new Float32Array(3),r=new Float32Array(e.toArray());for(let e=0;e<n.length;e+=3)t.set(n.subarray(e,e+3)),n.set(r,e),r.set(t)}t instanceof s.BufferAttribute&&(t.needsUpdate=!0)}}const S=new s.LineBasicMaterial({color:6408081});class $ extends s.Line{constructor(e){super(),this.target=e,this.material=S,this.geometry=new j(this.target),this.onBeforeRender=this.update}update(){this.geometry.update(this.target)}}n(6);class P{constructor(){this.eventHandlers=new Map}addEventListener(e,t){const n=this.eventHandlers.get(e);n?n.push(t):this.eventHandlers.set(e,[t])}removeEventListener(e,t){const n=this.eventHandlers.get(e);n&&(n.splice(n.indexOf(t),1),0===n.length&&this.eventHandlers.delete(e))}emitEvent(e){const t=this.eventHandlers.get(e);t&&t.forEach(this.triggerHandler)}triggerHandler(e){e()}}const O=e=>e instanceof HTMLElement?e:("string"!=typeof e&&(e=e.toString()),document.createTextNode(e));n(8);class U extends P{constructor(e,t=[]){super(),this.parent=e,this.element=document.createElement("div"),this.element.classList.add("ui-component");for(const e of t)this.element.appendChild(O(e))}attach(){return this.parent.appendChild(this.element),this.emitEvent("attach"),this}detach(){return this.parent.removeChild(this.element),this.emitEvent("detach"),this}}class R extends U{constructor(e,t=[]){super(e,t),this.onMouseDown=(e=>{e.preventDefault(),this.emitEvent("click")}),this.onTouchStart=(e=>{e.preventDefault(),this.emitEvent("click")}),this.element.classList.add("ui-button"),this.addEventListener("attach",()=>{this.element.addEventListener("mousedown",this.onMouseDown),this.element.addEventListener("touchstart",this.onTouchStart)}),this.removeEventListener("detach",()=>{this.element.removeEventListener("mousedown",this.onMouseDown),this.element.removeEventListener("touchstart",this.onTouchStart)})}}n(10);class I extends U{constructor(e,t=[]){super(e,t),this.element.classList.add("ui-group")}}window.addEventListener("load",function(){const e=new z,t=new l(e.size);e.scene.add(t);const n=t=>{for(let n=0;n<t;n++){const t=new v(e);e.scene.add(t);const n=new $(t.position);e.scene.add(n)}},o=new I(e.element);o.attach();const i=new R(o.element,["Set size"]);i.attach(),i.addEventListener("click",()=>{const n=prompt(`The current size is ${t.size}.`);null!=n&&(e.updateSize(parseFloat(n)),t.updateSize(parseFloat(n)))});const s=new R(o.element,["Add 1"]);s.attach(),s.addEventListener("click",()=>n(1));const a=new R(o.element,["Add 100"]);a.attach(),a.addEventListener("click",()=>n(100));const c=new R(o.element,["Clear All"]);c.attach(),c.addEventListener("click",()=>{const t=[];e.scene.traverse(e=>{e instanceof v&&t.push(e),e instanceof $&&t.push(e)}),t.forEach(r),e.renderer.renderLists.dispose()})})}]);
//# sourceMappingURL=main.js.map